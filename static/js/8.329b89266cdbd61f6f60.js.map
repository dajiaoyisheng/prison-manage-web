{"version":3,"sources":["webpack:///./src/components/pages/systemset/cameramanagement/showVideo.vue?69b0","webpack:///src/components/pages/systemset/cameramanagement/cameramanagement.vue","webpack:///./src/components/pages/systemset/cameramanagement/showVideo.vue","webpack:///src/components/pages/systemset/cameramanagement/showVideo.vue","webpack:///./src/components/pages/systemset/cameramanagement/cameramanagement.vue?eeb1","webpack:///./src/components/pages/systemset/cameramanagement/cameramanagement.vue","webpack:///./node_modules/babel-runtime/core-js/get-iterator.js","webpack:///./node_modules/core-js/library/fn/get-iterator.js","webpack:///./node_modules/core-js/library/modules/core.get-iterator.js"],"names":["cameramanagement_showVideo","render","_h","this","$createElement","_c","_self","attrs","id","staticStyle","height","width","src","cameraId","staticRenderFns","components","cameraVideo","__webpack_require__","normalizeComponent","props","tablePagination","tablePage","data","isShowVideo","count","prisonSubRegions","cameraTypes","cameraList","current","currentIndex","paramsPaiCode","savePaiCodeTable","paiCodeTable","changeRow","tempSaveData","tempRow","vals","params","paiCode","ciType","ciName","nodeType","mounted","getPrisonSubRegions","getCameraTypes","getCameraList","methods","_this","$get","urlconfig","cmGetPrisonSubRegions","then","res","catch","error","_this2","cmGetCameraTypes","_this3","pageIndex","$refs","pagination","index","pageSize","limit","stringify_default","$post","cmGetCameraList","totalRows","items","saveCameraInfo","cmSaveCameraInfo","alert","showVideo","row","ciId","beforeClose","changePaiPathFilter","value","_this4","length","getCascaderObj","map","val","changePaiCode","changePaiPathTable","_this5","tempPaiCodeRow","push","label","forEach","paiPath","join","findIndex","item","opt","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","get_iterator_default","next","done","itm","children","err","return","watch","oldval","_this6","cameramanagement_cameramanagement","_vm","staticClass","_v","span","size","change-on-select","placeholder","options","on","change","model","callback","$$v","expression","$set","_l","key","sCode","sName","clearable","type","click","title","visible","before-close","update:visible","$event","stripe","prop","min-width","align","scopedSlots","_u","fn","scope","$index","directives","name","rawName","blur","_s","fixed","nativeOn","preventDefault","ref","total","cameramanagement_Component","cameramanagement_normalizeComponent","cameramanagement","ssrContext","__webpack_exports__","module","exports","default","__esModule","anObject","get","getIterator","it","iterFn","TypeError","call"],"mappings":"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","file":"js/8.329b89266cdbd61f6f60.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"showVideo\"}},[_c('iframe',{staticStyle:{\"height\":\"370px\",\"width\":\"750px\"},attrs:{\"src\":'./ws_rtsp/rtspPlay.jsp?id=' + _vm.cameraId}})])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-745b0ce0\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/pages/systemset/cameramanagement/showVideo.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div id=\"cameramanager\">\r\n    <p class=\"contentInfo\">摄像头列表</p>\r\n    <section class=\"contentMain\">\r\n      <section class=\"puu-params\">\r\n        <el-row>\r\n          <el-col :span=\"7\">\r\n            <span>所在区域:</span>\r\n            <el-cascader size=\"small\" change-on-select v-model=\"paramsPaiCode\" placeholder=\"请选择\" :options=\"prisonSubRegions\"\r\n              @change=\"changePaiPathFilter\"></el-cascader>\r\n          </el-col>\r\n          <el-col :span=\"7\">\r\n            <span>摄像头类型:</span>\r\n            <el-select size=\"small\" v-model=\"params.ciType\" placeholder=\"请选择\">\r\n              <el-option v-for=\"item in cameraTypes\" :key=\"item.sCode\" :label=\"item.sName\" :value=\"item.sCode\"></el-option>\r\n            </el-select>\r\n          </el-col>\r\n          <el-col :span=\"7\">\r\n            <span>摄像头编号/名称:</span>\r\n            <el-input size=\"small\" class=\"pp-input\" v-model=\"params.ciName\" placeholder=\"请输入摄像头编号或名称\" clearable></el-input>\r\n          </el-col>\r\n          <el-col :span=\"3\">\r\n            <el-button type=\"primary\" size=\"small\" class=\"search-btn\" @click=\"getCameraList\">查询</el-button>\r\n            <el-button type=\"primary\" size=\"small\" class=\"search-btn\" @click=\"saveCameraInfo\">保存</el-button>\r\n          </el-col>\r\n        </el-row>\r\n      </section>\r\n      <section>\r\n        <el-dialog title=\"实时视频\" :visible.sync=\"isShowVideo\" width=\"800px\" :before-close=\"beforeClose\">\r\n          <cameraVideo :cameraId=\"cameraId\"></cameraVideo>\r\n        </el-dialog>\r\n      </section>\r\n      <section class=\"el-table-wrap\">\r\n        <el-table :data=\"cameraList\" stripe style=\"width: 100%;\">\r\n          <el-table-column prop=\"paiPath\" label=\"所在区域\" min-width=\"200px\" align=\"center\">\r\n            <template slot-scope=\"scope\">\r\n              <div @click=\"changePaiCode(scope.$index, scope.row)\">\r\n                <el-cascader :change-on-select=\"true\" v-show=\"current === scope.$index\" @blur=\"current=null\" v-model=\"paiCodeTable\"\r\n                  placeholder=\"请选择\" :options=\"prisonSubRegions\" @change=\"changePaiPathTable\">\r\n                </el-cascader>\r\n                <span v-show=\"current !== scope.$index\">{{scope.row.paiPath}}</span>\r\n              </div>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column prop=\"ciId\"        label=\"摄像头编号\"       min-width=\"80px\" align=\"center\"></el-table-column>\r\n          <el-table-column prop=\"ciName\"      label=\"摄像头名称\"       min-width=\"80px\" align=\"center\"></el-table-column>\r\n          <el-table-column prop=\"ciType\"      label=\"摄像头类型\"       min-width=\"140px\" align=\"center\"></el-table-column>\r\n          <el-table-column prop=\"ciNearid\"    label=\"相邻摄像头\"       min-width=\"140px\" align=\"center\"></el-table-column>\r\n          <el-table-column prop=\"realtimeUri\" label=\"实时视频服务地址\"  min-width=\"140px\" align=\"center\"></el-table-column>\r\n          <el-table-column prop=\"replayUri\"   label=\"回放视频服务地址\"  min-width=\"140px\" align=\"center\"></el-table-column>\r\n          <el-table-column prop=\"ciMemo\"      label=\"备注\" min-width=\"120px\" align=\"center\"></el-table-column>\r\n          <el-table-column label=\"操作\" fixed=\"right\" width=\"120px\" align=\"center\">\r\n            <template slot-scope=\"scope\">\r\n              <el-button @click.native.prevent=\"showVideo(scope.$index, scope.row)\" type=\"text\">实时视频</el-button>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n        <div class=\"el-pagination-wrap\">\r\n          <table-pagination :total=\"count\" @change=\"getCameraList\" ref=\"pagination\"></table-pagination>\r\n        </div>\r\n      </section>\r\n    </section>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import video from '@/assets/video.png';\r\n  import tablePagination from '@/components/commons/tablePage.vue';\r\n  import cameraVideo from '@/components/pages/systemset/cameramanagement/showVideo.vue';\r\n\r\n  export default {\r\n    components: {\r\n      cameraVideo,\r\n      tablePagination\r\n    },\r\n    data() {\r\n      return {\r\n        cameraId: null,       // 摄像头ID\r\n        isShowVideo: false,   // 是否弹出视频\r\n        count: 0,             // 查询总数\r\n        prisonSubRegions: [], // 区域树形\r\n        cameraTypes: [],      // 摄像头类型\r\n        cameraList: [],       // 摄像头列表\r\n        current: null,        // 修改当前节点\r\n        currentIndex: \"\",     // 当前节点索引\r\n        paramsPaiCode: [],    // 筛选当前所在区域\r\n        savePaiCodeTable: [], // table当前所在区域\r\n        paiCodeTable: [],     // table当前所在区域所选value\r\n        changeRow: [],\r\n        tempSaveData: {},\r\n        tempRow: [],          // 保存一下当前点击的所在区域的数据\r\n        vals: [],\r\n        params: {\r\n          paiCode: \"\",\r\n          ciType: \"\",\r\n          ciName: \"\",\r\n          nodeType: \"\"\r\n        }\r\n      }\r\n    },\r\n    mounted() {\r\n      this.getPrisonSubRegions();\r\n      this.getCameraTypes();\r\n      this.getCameraList();\r\n    },\r\n    methods: {\r\n      /** 获取所属区域 */\r\n      getPrisonSubRegions: function () {\r\n        this.$get(this.urlconfig.cmGetPrisonSubRegions).then((res) => {\r\n          this.prisonSubRegions = res.data;\r\n        }).catch((error) => {\r\n          console.log(error);\r\n        }).then(() => {\r\n          // todo somthing...\r\n        });\r\n      },\r\n      /** 获取摄像头类型 */\r\n      getCameraTypes: function () {\r\n        this.$get(this.urlconfig.cmGetCameraTypes).then((res) => {\r\n          this.cameraTypes = res.data;\r\n        }).catch((error) => {\r\n          console.log(error);\r\n        }).then(() => {\r\n          // todo somthing...\r\n        });\r\n      },\r\n      /** 获取摄像头列表 */\r\n      getCameraList: function () {\r\n        let data = {\r\n          \"pageIndex\": this.$refs.pagination.index,\r\n          'pageSize': this.$refs.pagination.limit,\r\n          \"params\": JSON.stringify(this.params)\r\n        }\r\n        this.$post(this.urlconfig.cmGetCameraList, data).then((res) => {\r\n          this.count = res.data.totalRows;\r\n          this.cameraList = res.data.items;\r\n        }).catch((error) => {\r\n          console.log(error);\r\n        }).then(() => {\r\n          // todo somthing...\r\n        });\r\n      },\r\n      /** 保存摄像头信息 */\r\n      saveCameraInfo: function () {\r\n        let data = this.changeRow;\r\n        this.$post(this.urlconfig.cmSaveCameraInfo, data).then((res) => {\r\n          alert(\"保存成功\");\r\n        }).catch((error) => {\r\n          console.log(error);\r\n        }).then(() => {\r\n          // todo somthing...\r\n        });\r\n      },\r\n      /** 查看视频操作 */\r\n      showVideo: function (index, row) {\r\n        this.cameraId = row.ciId;\r\n        this.isShowVideo = true;\r\n      },\r\n      /** 关闭视频操作 */\r\n      beforeClose: function() {\r\n        this.cameraId = null;\r\n        this.isShowVideo = false;\r\n      },\r\n      /** 改变所在区域路径 */\r\n      changePaiPathFilter(value) {\r\n        // 查询时的参数\r\n        this.params.paiCode = value[value.length - 1];\r\n        let tempArry = [];\r\n        tempArry = this.getCascaderObj(value, this.prisonSubRegions);\r\n        tempArry.map(val => {\r\n          // 查询时的参数\r\n          this.params.nodeType = val.nodeType\r\n        })\r\n      },\r\n      /** 修改所在区域 */\r\n      changePaiCode: function (index, row) {\r\n        this.current = index;\r\n        this.currentIndex = index;\r\n        // 保存当前数据,用于在changePaiPathTable方法中判断当前更改的位置\r\n        this.tempRow = row;\r\n      },\r\n      /** table处的改变所在区域,value是选择后的数据 */\r\n      changePaiPathTable(value) {\r\n        let tempPaiCodeRow = [];\r\n        let tempArry = [];\r\n        tempArry = this.getCascaderObj(value, this.prisonSubRegions);\r\n        tempArry.map(val => {\r\n          tempPaiCodeRow.push(val.label)\r\n        });\r\n        this.cameraList.forEach(val => {\r\n          if (this.tempRow.ciId === val.ciId) {\r\n            val.paiPath = tempPaiCodeRow.join(\"/\");\r\n            // 保存时的参数\r\n          }\r\n        })\r\n        this.tempSaveData = {}\r\n        this.tempSaveData = {\r\n          \"ciId\": this.tempRow.ciId,\r\n          \"paiCode\": this.tempRow.paiCode\r\n        }\r\n\r\n        let index = this.changeRow.findIndex(item => item.ciId === this.tempRow.ciId);\r\n        if (index > -1) {\r\n          this.changeRow[index] = this.tempSaveData;\r\n        } else {\r\n          this.changeRow.push(this.tempSaveData);\r\n        }\r\n      },\r\n      /** 根据value找到对应的labal */\r\n      getCascaderObj(val, opt) {\r\n        return val.map(function (value) {\r\n          for (var itm of opt) {\r\n            if (itm.value == value) {\r\n              opt = itm.children;\r\n              return itm;\r\n            }\r\n          }\r\n          return null;\r\n        });\r\n      }\r\n    },\r\n    watch: {\r\n      savePaiCodeTable: function (val, oldval) {\r\n        this.prisonSubRegions.map((value, index) => {\r\n          if (val === value.value) {\r\n            this.cameraList[this.currentIndex].paiCode = value.label;\r\n          }\r\n        })\r\n        this.currentIndex = null;\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n  .el-select {\r\n    width: 58%;\r\n  }\r\n\r\n  .contentInfo {\r\n    margin-left: 2%;\r\n  }\r\n\r\n  .puu-item-popover {\r\n    font-size: 12px;\r\n  }\r\n\r\n  .pp-input {\r\n    width: 50%;\r\n  }\r\n\r\n  .tree-wrap-self {\r\n    display: none;\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/pages/systemset/cameramanagement/cameramanagement.vue","var normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./showVideo.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./showVideo.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-745b0ce0\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./showVideo.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/pages/systemset/cameramanagement/showVideo.vue\n// module id = null\n// module chunks = ","<template>\r\n    <div id=\"showVideo\">\r\n        <iframe style=\"height: 370px; width: 750px;\" :src=\"'./ws_rtsp/rtspPlay.jsp?id=' + cameraId\"></iframe>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n     props: [ 'cameraId' ]\r\n}\r\n</script>\n\n\n// WEBPACK FOOTER //\n// src/components/pages/systemset/cameramanagement/showVideo.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"cameramanager\"}},[_c('p',{staticClass:\"contentInfo\"},[_vm._v(\"摄像头列表\")]),_vm._v(\" \"),_c('section',{staticClass:\"contentMain\"},[_c('section',{staticClass:\"puu-params\"},[_c('el-row',[_c('el-col',{attrs:{\"span\":7}},[_c('span',[_vm._v(\"所在区域:\")]),_vm._v(\" \"),_c('el-cascader',{attrs:{\"size\":\"small\",\"change-on-select\":\"\",\"placeholder\":\"请选择\",\"options\":_vm.prisonSubRegions},on:{\"change\":_vm.changePaiPathFilter},model:{value:(_vm.paramsPaiCode),callback:function ($$v) {_vm.paramsPaiCode=$$v},expression:\"paramsPaiCode\"}})],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":7}},[_c('span',[_vm._v(\"摄像头类型:\")]),_vm._v(\" \"),_c('el-select',{attrs:{\"size\":\"small\",\"placeholder\":\"请选择\"},model:{value:(_vm.params.ciType),callback:function ($$v) {_vm.$set(_vm.params, \"ciType\", $$v)},expression:\"params.ciType\"}},_vm._l((_vm.cameraTypes),function(item){return _c('el-option',{key:item.sCode,attrs:{\"label\":item.sName,\"value\":item.sCode}})}))],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":7}},[_c('span',[_vm._v(\"摄像头编号/名称:\")]),_vm._v(\" \"),_c('el-input',{staticClass:\"pp-input\",attrs:{\"size\":\"small\",\"placeholder\":\"请输入摄像头编号或名称\",\"clearable\":\"\"},model:{value:(_vm.params.ciName),callback:function ($$v) {_vm.$set(_vm.params, \"ciName\", $$v)},expression:\"params.ciName\"}})],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":3}},[_c('el-button',{staticClass:\"search-btn\",attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.getCameraList}},[_vm._v(\"查询\")]),_vm._v(\" \"),_c('el-button',{staticClass:\"search-btn\",attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.saveCameraInfo}},[_vm._v(\"保存\")])],1)],1)],1),_vm._v(\" \"),_c('section',[_c('el-dialog',{attrs:{\"title\":\"实时视频\",\"visible\":_vm.isShowVideo,\"width\":\"800px\",\"before-close\":_vm.beforeClose},on:{\"update:visible\":function($event){_vm.isShowVideo=$event}}},[_c('cameraVideo',{attrs:{\"cameraId\":_vm.cameraId}})],1)],1),_vm._v(\" \"),_c('section',{staticClass:\"el-table-wrap\"},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.cameraList,\"stripe\":\"\"}},[_c('el-table-column',{attrs:{\"prop\":\"paiPath\",\"label\":\"所在区域\",\"min-width\":\"200px\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{on:{\"click\":function($event){_vm.changePaiCode(scope.$index, scope.row)}}},[_c('el-cascader',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.current === scope.$index),expression:\"current === scope.$index\"}],attrs:{\"change-on-select\":true,\"placeholder\":\"请选择\",\"options\":_vm.prisonSubRegions},on:{\"blur\":function($event){_vm.current=null},\"change\":_vm.changePaiPathTable},model:{value:(_vm.paiCodeTable),callback:function ($$v) {_vm.paiCodeTable=$$v},expression:\"paiCodeTable\"}}),_vm._v(\" \"),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.current !== scope.$index),expression:\"current !== scope.$index\"}]},[_vm._v(_vm._s(scope.row.paiPath))])],1)]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"ciId\",\"label\":\"摄像头编号\",\"min-width\":\"80px\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"ciName\",\"label\":\"摄像头名称\",\"min-width\":\"80px\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"ciType\",\"label\":\"摄像头类型\",\"min-width\":\"140px\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"ciNearid\",\"label\":\"相邻摄像头\",\"min-width\":\"140px\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"realtimeUri\",\"label\":\"实时视频服务地址\",\"min-width\":\"140px\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"replayUri\",\"label\":\"回放视频服务地址\",\"min-width\":\"140px\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"ciMemo\",\"label\":\"备注\",\"min-width\":\"120px\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\",\"fixed\":\"right\",\"width\":\"120px\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"text\"},nativeOn:{\"click\":function($event){$event.preventDefault();_vm.showVideo(scope.$index, scope.row)}}},[_vm._v(\"实时视频\")])]}}])})],1),_vm._v(\" \"),_c('div',{staticClass:\"el-pagination-wrap\"},[_c('table-pagination',{ref:\"pagination\",attrs:{\"total\":_vm.count},on:{\"change\":_vm.getCameraList}})],1)],1)])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0076a0da\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/pages/systemset/cameramanagement/cameramanagement.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0076a0da\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./cameramanagement.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./cameramanagement.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./cameramanagement.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0076a0da\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./cameramanagement.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-0076a0da\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/pages/systemset/cameramanagement/cameramanagement.vue\n// module id = null\n// module chunks = ","module.exports = { \"default\": require(\"core-js/library/fn/get-iterator\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/get-iterator.js\n// module id = BO1k\n// module chunks = 8","require('../modules/web.dom.iterable');\nrequire('../modules/es6.string.iterator');\nmodule.exports = require('../modules/core.get-iterator');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/get-iterator.js\n// module id = fxRn\n// module chunks = 8","var anObject = require('./_an-object');\nvar get = require('./core.get-iterator-method');\nmodule.exports = require('./_core').getIterator = function (it) {\n  var iterFn = get(it);\n  if (typeof iterFn != 'function') throw TypeError(it + ' is not iterable!');\n  return anObject(iterFn.call(it));\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/core.get-iterator.js\n// module id = g8Ux\n// module chunks = 8"],"sourceRoot":""}