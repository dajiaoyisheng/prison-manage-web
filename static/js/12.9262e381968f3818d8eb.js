webpackJsonp([12],{"7ToA":function(t,a){},O2Kj:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s={name:"prewarningstats",data:function(){return{message:"预警统计",parameter:{activeTab:"today",startTime:"",endTime:"",area:""},activeTabs:[],tableData:[],list:[],areas:[],option1:{grid:{top:"2%",right:"5%",bottom:"5%",left:"2%"},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},xAxis:[{show:!1,splitLine:{show:!1}}],yAxis:{data:[]},series:[{name:"预警次数",type:"bar",barWidth:"60%",data:[],itemStyle:{normal:{label:{show:!0,position:"right",textStyle:{color:"black"}},color:function(t){return["#ff4c79","#00ce94","#2cc2e9","#ff983b","#7870fb"][t.dataIndex]}}}}],settings:{dataOrder:{label:"预警次数",order:"desc"}}},option2:{grid:{top:"2%",right:"5%",bottom:"5%",left:"2%"},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},xAxis:[{show:!1,splitLine:{show:!1}}],yAxis:{data:[]},series:[{name:"预警次数",type:"bar",barWidth:"60%",data:[],itemStyle:{normal:{label:{show:!0,position:"right",textStyle:{color:"black"}},color:function(t){return["#ff4c79","#00ce94","#2cc2e9","#ff983b","#7870fb"][t.dataIndex]}}}}],settings:{dataOrder:{label:"预警次数",order:"desc"}}}}},methods:{getAllPeriodTypes:function(){var t=this,a=this.$store.state.env+"/warningStatistics.action?method=getAllPeriodTypes";this.$get(a).then(function(a){t.activeTabs=a.data}).catch(function(t){}).then(function(){})},getPrisonDatas:function(){var t=this,a=this.$store.state.env+"/prisonRegion.action?method=getAllPrisonRegions";this.$get(a).then(function(a){t.areas=a.data}).catch(function(t){}).then(function(){})},queryStatistics:function(){"other"!=this.parameter.activeTab&&this.doQuery()},doQuery:function(){var t=this,a=this.$store.state.env+"/warningStatistics.action?method=getPrewarningstatsDatas";this.$post(a,this.parameter).then(function(a){t.list=a.data.list,t.tableData=a.data.tableData,t.option1.series[0].data=a.data.option1.xAxisData,t.option1.yAxis.data=a.data.option1.yAxisData,t.option2.series[0].data=a.data.option2.xAxisData,t.option2.yAxis.data=a.data.option2.yAxisData}).catch(function(t){}).then(function(){})},queryAreaOrder:function(){var t=this,a=this.$store.state.env+"/warningStatistics.action?method=queryAreaOrder";this.$post(a,this.parameter).then(function(a){t.option2.series[0].data=a.data.option2.xAxisData,t.option2.yAxis.data=a.data.option2.yAxisData}).catch(function(t){}).then(function(){})},showVideo:function(t,a){this.$router.push({path:"/personnelposition"})}},mounted:function(){this.getAllPeriodTypes(),this.getPrisonDatas(),this.queryStatistics()}},i={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"w1200",attrs:{id:"prewarningstats"}},[e("el-row",{staticStyle:{"margin-bottom":"0px","padding-left":"20px"}},[e("el-col",{attrs:{span:6}},[e("el-tabs",{on:{"tab-click":t.queryStatistics},model:{value:t.parameter.activeTab,callback:function(a){t.$set(t.parameter,"activeTab",a)},expression:"parameter.activeTab"}},t._l(t.activeTabs,function(t,a){return e("el-tab-pane",{key:a,attrs:{label:t.label,name:t.name}})}))],1),t._v(" "),"other"==t.parameter.activeTab?e("el-col",{staticStyle:{"line-height":"50px"},attrs:{span:9}},[e("span",{staticStyle:{"font-size":"14px"}},[t._v("时间：")]),t._v(" "),e("el-date-picker",{staticStyle:{width:"35%"},attrs:{size:"small",type:"date",placeholder:"选择日期"},model:{value:t.parameter.startTime,callback:function(a){t.$set(t.parameter,"startTime",a)},expression:"parameter.startTime"}}),t._v(" "),e("span",[t._v("-")]),t._v(" "),e("el-date-picker",{staticStyle:{width:"35%"},attrs:{size:"small",type:"date",placeholder:"选择日期"},model:{value:t.parameter.endTime,callback:function(a){t.$set(t.parameter,"endTime",a)},expression:"parameter.endTime"}}),t._v(" "),e("el-button",{staticClass:"search-btn",attrs:{size:"mini",type:"primary"},on:{click:function(a){t.doQuery()}}},[t._v("查询")])],1):t._e()],1),t._v(" "),e("el-row",[e("el-col",{attrs:{span:12}},[e("el-card",{staticClass:"box-card pws-card"},[e("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[e("span",[t._v("违规预警人员TOP10")])]),t._v(" "),e("div",{staticClass:"pws-card-first"},[e("el-row",[e("el-col",{attrs:{span:12}},[e("ul",{staticClass:"pws-card-first-left"},t._l(t.list,function(a,s){return s<5?e("li",{key:s},[e("span",{staticClass:"pws-card-first-label"},[t._v("NO."+t._s(s+1))]),t._v(" "),e("span",{staticClass:"pws-card-first-name"},[t._v(t._s(a.name))]),t._v(" "),e("span",{staticClass:"pws-card-first-times"},[t._v("违规"+t._s(a.times)+"次")])]):t._e()}))]),t._v(" "),e("el-col",{attrs:{span:12}},[e("ul",{staticClass:"pws-card-first-right"},t._l(t.list,function(a,s){return s>4?e("li",{key:s},[e("span",{staticClass:"pws-card-first-label"},[t._v("NO."+t._s(s+1))]),t._v(" "),e("span",{staticClass:"pws-card-first-name"},[t._v(t._s(a.name))]),t._v(" "),e("span",{staticClass:"pws-card-first-times"},[t._v("违规"+t._s(a.times)+"次")])]):t._e()}))])],1)],1)])],1),t._v(" "),e("el-col",{attrs:{span:12}},[e("el-card",{staticClass:"box-card pws-card"},[e("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[e("span",[t._v("违规预警事件统计")])]),t._v(" "),e("div",[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,stripe:"",height:"240"}},[e("el-table-column",{attrs:{prop:"name",label:"违规预警事件"}}),t._v(" "),e("el-table-column",{attrs:{label:"预警次数",width:"150",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",{staticClass:"num-color",staticStyle:{cursor:"pointer"},on:{click:function(e){t.showVideo(a.$index,a.row)}}},[t._v(t._s(a.row.times))])]}}])}),t._v(" "),e("el-table-column",{attrs:{label:"预警人数",width:"150",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",{staticClass:"num-color",staticStyle:{cursor:"pointer"},on:{click:function(e){t.showVideo(a.$index,a.row)}}},[t._v(t._s(a.row.pers))])]}}])})],1)],1)])],1)],1),t._v(" "),e("el-row",[e("el-col",{attrs:{span:12}},[e("el-card",{staticClass:"box-card pws-card"},[e("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[e("span",[t._v("监区排名（按预警数）")])]),t._v(" "),e("div",[[e("ve-bar",{attrs:{height:"270px","legend-visible":!1,extend:t.option1,xAxis:t.option1.xAxis}})]],2)])],1),t._v(" "),e("el-col",{attrs:{span:12}},[e("el-card",{staticClass:"box-card pws-card"},[e("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[e("span",[t._v("预警区域排名TOP5（按预警数）")]),t._v(" "),e("el-select",{staticStyle:{float:"right",padding:"3px 0"},attrs:{size:"mini",placeholder:"请选择"},on:{change:function(a){t.queryAreaOrder()}},model:{value:t.parameter.area,callback:function(a){t.$set(t.parameter,"area",a)},expression:"parameter.area"}},t._l(t.areas,function(t){return e("el-option",{key:t.priCode,attrs:{label:t.priName,value:t.priCode}})}))],1),t._v(" "),e("div",[e("ve-bar",{attrs:{height:"270px","legend-visible":!1,extend:t.option2,xAxis:t.option2.xAxis}})],1)])],1)],1)],1)},staticRenderFns:[]};var r=e("VU/8")(s,i,!1,function(t){e("cBRj"),e("7ToA")},"data-v-4dfd7cd1",null);a.default=r.exports},cBRj:function(t,a){}});
//# sourceMappingURL=12.9262e381968f3818d8eb.js.map