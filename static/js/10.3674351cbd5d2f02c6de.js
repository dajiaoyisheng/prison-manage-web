webpackJsonp([10],{"3zX0":function(e,a,t){e.exports=t.p+"img/pp-p.37dec19.png"},LP7K:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=t("woOf"),n=t.n(s),i=t("esw1"),l=t.n(i),o=t("wa1j"),r=t.n(o),c={name:"personnelposition",components:{tablePagination:t("zeeE").a},data:function(){return{baseInfo:{numbering:"",name:"",sex:"",famousFamily:"",birth:"",educationalLevel:"",maritalStatus:"",crime:"",prisonTerm:"",hasPrisonTerm:"",lastPrisonTerm:"",regionArea:"",prisonHouse:"",superviseValue:"",dutyWarning:"",birthplace:"",city:"",familyContact:"",phone:""},area:"",monitoringHouse:"",supervisionType:"",prisoner:"",starttime:new Date((new Date).setHours(0,0,0,0)),endtime:new Date((new Date).setHours(24,0,0,0)),video:r.a,currentPos:l.a,input:"",pPositionData:[],pageSize:10,currentPage:1,count:0,pPTableData:[],pPHisTrackData:[],options:[],areas:[],houses:[],visiontype:[],value:"",currentPage3:1,page:1,activeName:"second",value6:"",value7:""}},created:function(){this.$route.query.area;this.getAreaData(),this.getHouseData(),this.getVisiontypeData()},computed:{searchPrams:function(){return{area:this.area,monitoringHouse:this.monitoringHouse,supervisionType:this.supervisionType,prisoner:this.prisoner}}},mounted:function(){},methods:{search:function(){var e=this;this.$post(this.urlconfig.ppSearch,this.searchPrams).then(function(a){e.pPositionData=a.data})},pageChange:function(e,a){this.currentPage=e,"curevent"===a&&this.getTableData(e,this.searchPrams)},getAreaData:function(){var e=this;this.$get(this.urlconfig.ppGetAreaData).then(function(a){e.areas=a.data})},getHouseData:function(){var e=this;this.$get(this.urlconfig.ppGetHouseData).then(function(a){e.houses=a.data})},getVisiontypeData:function(){var e=this;this.$get(this.urlconfig.ppGetVisiontypeData).then(function(a){e.visiontype=a.data})},getTableData:function(e,a){var t=this;n()(a,{page:e}),this.$post("/pPTableData",a).then(function(e){t.count=e.data.total,t.pPTableData=e.data.data,t.page=e.data.total})},getPPositionData:function(e,a){var t=this;n()(a,{page:e}),this.$get("/pPositionData",a).then(function(e){t.pPositionData=e.data.data,t.page=e.data.total})},playvideo:function(e,a,t){this.$el.querySelector(".movie-wrap").scrollIntoView()},handleClick:function(e,a){},refreshPrisonerData:function(e){var a={prisonerId:e};this.getPrisonerBaseInfo(a),this.getPrisonerPhotos(a),this.getTodayWarnings(a),this.getCurrActiveArea(a),this.getHisActiveTrack(a)},getPrisonerBaseInfo:function(e){var a=this;this.$get(this.urlconfig.ppGetPrisoner,e).then(function(e){a.baseInfo=e.data})},getPrisonerPhotos:function(e){this.$get(this.urlconfig.ppGetPrionserPhoto,e).then(function(e){})},getTodayWarnings:function(e){var a=this;e.pageIndex=1,e.pageSize=10,this.$get(this.urlconfig.ppGetTodayWarnings,e).then(function(e){a.count=e.data.totalRows,a.pPTableData=e.data.items,a.page=e.data.totalRows})},getCurrActiveArea:function(e){this.$get(this.urlconfig.ppGetCurrActiveArea,e).then(function(e){})},getHisActiveTrack:function(e){var a=this;e.pageIndex=1,e.pageSize=10,e.startTime=new Date((new Date).setHours(10,0,0,0)),e.endTime=new Date((new Date).setHours(20,0,0,0)),this.$get(this.urlconfig.ppGetHisActiveTrack,e).then(function(e){a.pPHisTrackData=e.data.items,a.page=e.data.totalRows})}}},p={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"pp-wrap"},[t("section",{staticClass:"pposition-l fl"},[t("table",[e._m(0),e._v(" "),t("tbody",e._l(e.pPositionData,function(a,s){return t("tr",{key:a.name,on:{click:function(t){e.refreshPrisonerData(a.guid)}}},[t("td",[t("div",{staticClass:"cell"},[e._v(e._s(s+1))])]),e._v(" "),t("td",[t("div",{staticClass:"cell"},[e._v(e._s(a.name))])]),e._v(" "),t("td",[t("div",{staticClass:"cell"},[e._v(e._s(a.numbering))])])])}))])]),e._v(" "),t("section",{staticClass:"pposition-r"},[t("section",{staticClass:"pp-r-t"},[t("span",[e._v("监区:")]),e._v(" "),t("el-select",{attrs:{size:"small",placeholder:"请选择"},model:{value:e.area,callback:function(a){e.area=a},expression:"area"}},e._l(e.areas,function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),e._v(" "),t("span",[e._v("监舍:")]),e._v(" "),t("el-select",{attrs:{size:"small",placeholder:"请选择"},model:{value:e.monitoringHouse,callback:function(a){e.monitoringHouse=a},expression:"monitoringHouse"}},e._l(e.houses,function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),e._v(" "),t("span",[e._v("监管类型:")]),e._v(" "),t("el-select",{attrs:{size:"small",placeholder:"请选择"},model:{value:e.supervisionType,callback:function(a){e.supervisionType=a},expression:"supervisionType"}},e._l(e.visiontype,function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),e._v(" "),t("span",[e._v("服刑人员:")]),e._v(" "),t("el-input",{staticClass:"pp-input",attrs:{size:"small",placeholder:"请输入内容"},model:{value:e.prisoner,callback:function(a){e.prisoner=a},expression:"prisoner"}}),e._v(" "),t("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.search}},[e._v("搜索")])],1),e._v(" "),t("section",{staticClass:"pp-r-d clearfix"},[t("section",{staticClass:"pp-r-d-l fl"},[t("p",{staticClass:"h-line"},[e._v("基本信息")]),e._v(" "),t("div",{staticClass:"pp-r-d-l-l fl"},[t("div",[t("span",[e._v("编号:")]),e._v(" "),t("el-input",{attrs:{size:"small",placeholder:"请输入内容"},model:{value:e.baseInfo.numbering,callback:function(a){e.$set(e.baseInfo,"numbering",a)},expression:"baseInfo.numbering"}})],1),e._v(" "),t("div",[t("span",[e._v("姓名:")]),e._v(" "),t("el-input",{attrs:{size:"small",placeholder:"请输入内容"},model:{value:e.baseInfo.name,callback:function(a){e.$set(e.baseInfo,"name",a)},expression:"baseInfo.name"}})],1),e._v(" "),t("div",[t("span",[e._v("性别:")]),e._v(" "),t("el-input",{attrs:{size:"small",placeholder:"请输入内容"},model:{value:e.baseInfo.sex,callback:function(a){e.$set(e.baseInfo,"sex",a)},expression:"baseInfo.sex"}})],1),e._v(" "),t("div",[t("span",[e._v("民族:")]),e._v(" "),t("el-input",{attrs:{size:"small",placeholder:"请输入内容"},model:{value:e.baseInfo.famousFamily,callback:function(a){e.$set(e.baseInfo,"famousFamily",a)},expression:"baseInfo.famousFamily"}})],1),e._v(" "),t("div",[t("span",[e._v("出生日期:")]),e._v(" "),t("el-input",{attrs:{size:"small",placeholder:"请输入内容"},model:{value:e.baseInfo.birth,callback:function(a){e.$set(e.baseInfo,"birth",a)},expression:"baseInfo.birth"}})],1),e._v(" "),t("div",[t("span",[e._v("文化程度:")]),e._v(" "),t("el-input",{attrs:{size:"small",placeholder:"请输入内容"},model:{value:e.baseInfo.educationalLevel,callback:function(a){e.$set(e.baseInfo,"educationalLevel",a)},expression:"baseInfo.educationalLevel"}})],1),e._v(" "),t("div",[t("span",[e._v("婚姻状况:")]),e._v(" "),t("el-input",{attrs:{size:"small",placeholder:"请输入内容"},model:{value:e.baseInfo.maritalStatus,callback:function(a){e.$set(e.baseInfo,"maritalStatus",a)},expression:"baseInfo.maritalStatus"}})],1),e._v(" "),t("div",[t("span",[e._v("罪名:")]),e._v(" "),t("el-input",{attrs:{size:"small",placeholder:"请输入内容"},model:{value:e.baseInfo.crime,callback:function(a){e.$set(e.baseInfo,"crime",a)},expression:"baseInfo.crime"}})],1),e._v(" "),t("div",[t("span",[e._v("刑期:")]),e._v(" "),t("el-input",{attrs:{size:"small",placeholder:"请输入内容"},model:{value:e.baseInfo.prisonTerm,callback:function(a){e.$set(e.baseInfo,"prisonTerm",a)},expression:"baseInfo.prisonTerm"}})],1),e._v(" "),t("div",[t("span",[e._v("已服刑时长:")]),e._v(" "),t("el-input",{attrs:{size:"small",placeholder:"请输入内容"},model:{value:e.baseInfo.hasPrisonTerm,callback:function(a){e.$set(e.baseInfo,"hasPrisonTerm",a)},expression:"baseInfo.hasPrisonTerm"}})],1),e._v(" "),t("div",[t("span",[e._v("剩余时长:")]),e._v(" "),t("el-input",{attrs:{size:"small",placeholder:"请输入内容"},model:{value:e.baseInfo.lastPrisonTerm,callback:function(a){e.$set(e.baseInfo,"lastPrisonTerm",a)},expression:"baseInfo.lastPrisonTerm"}})],1),e._v(" "),t("div",[t("span",[e._v("监区:")]),e._v(" "),t("el-input",{attrs:{size:"small",placeholder:"请输入内容"},model:{value:e.baseInfo.regionArea,callback:function(a){e.$set(e.baseInfo,"regionArea",a)},expression:"baseInfo.regionArea"}})],1),e._v(" "),t("div",[t("span",[e._v("监舍:")]),e._v(" "),t("el-input",{attrs:{size:"small",placeholder:"请输入内容"},model:{value:e.baseInfo.monitoringHouse,callback:function(a){e.$set(e.baseInfo,"monitoringHouse",a)},expression:"baseInfo.monitoringHouse"}})],1),e._v(" "),t("div",[t("span",[e._v("监管类型:")]),e._v(" "),t("el-input",{attrs:{size:"small",placeholder:"请输入内容"},model:{value:e.baseInfo.superviseValue,callback:function(a){e.$set(e.baseInfo,"superviseValue",a)},expression:"baseInfo.superviseValue"}})],1),e._v(" "),t("div",[t("span",[e._v("责任预警:")]),e._v(" "),t("el-input",{attrs:{size:"small",placeholder:"请输入内容"},model:{value:e.baseInfo.dutyWarning,callback:function(a){e.$set(e.baseInfo,"dutyWarning",a)},expression:"baseInfo.dutyWarning"}})],1),e._v(" "),t("div",[t("span",[e._v("籍贯:")]),e._v(" "),t("el-input",{attrs:{size:"small",placeholder:"请输入内容"},model:{value:e.baseInfo.birthplace,callback:function(a){e.$set(e.baseInfo,"birthplace",a)},expression:"baseInfo.birthplace"}}),e._v(" "),t("span",[e._v("省")])],1),e._v(" "),t("div",[t("span"),e._v(" "),t("el-input",{attrs:{size:"small",placeholder:"请输入内容"},model:{value:e.baseInfo.city,callback:function(a){e.$set(e.baseInfo,"city",a)},expression:"baseInfo.city"}}),e._v(" "),t("span",[e._v("市")])],1),e._v(" "),t("div",[t("span",[e._v("家庭联系人:")]),e._v(" "),t("el-input",{attrs:{size:"small",placeholder:"请输入内容"},model:{value:e.baseInfo.familyContact,callback:function(a){e.$set(e.baseInfo,"familyContact",a)},expression:"baseInfo.familyContact"}})],1),e._v(" "),t("div",[t("span",[e._v("联系电话:")]),e._v(" "),t("el-input",{attrs:{size:"small",placeholder:"请输入内容"},model:{value:e.baseInfo.phone,callback:function(a){e.$set(e.baseInfo,"phone",a)},expression:"baseInfo.phone"}})],1)]),e._v(" "),e._m(1)]),e._v(" "),t("section",{staticClass:"pp-r-d-r"},[t("p",{staticClass:"h-line"},[e._v("当日预警事件")]),e._v(" "),t("section",{staticClass:"el-table-wrap clearfix"},[t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.pPTableData,stripe:""}},[t("el-table-column",{attrs:{prop:"startTime",label:"预警开始时间"}}),e._v(" "),t("el-table-column",{attrs:{prop:"endTime",label:"预警结束时间"}}),e._v(" "),t("el-table-column",{attrs:{prop:"timeLen",label:"预警时长"}}),e._v(" "),t("el-table-column",{attrs:{prop:"warningEventType",label:"预警事件"}}),e._v(" "),t("el-table-column",{attrs:{prop:"warningArea",label:"所在区域"}}),e._v(" "),t("el-table-column",{attrs:{label:"监控视频"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",{staticClass:"operating"},[t("img",{staticClass:"v-align-m",attrs:{src:e.video,alt:""}}),e._v(" "),t("span",{on:{click:function(t){e.playvideo(a.$index,a.row,"curevent")}}},[e._v("查看")])])]}}])})],1),e._v(" "),t("div",{staticClass:"el-pagination-wrap"},[t("table-pagination",{attrs:{"page-index":e.currentPage,total:e.count,"page-size":e.pageSize},on:{change:function(a){e.pageChange(e.currentPage,"curevent")}}})],1)],1)]),e._v(" "),t("section",{staticClass:"pp-r-d-r pp-r-d-r-d"},[t("p",{staticClass:"h-line"},[t("el-tabs",{staticClass:"pos-res",on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(a){e.activeName=a},expression:"activeName"}},[t("el-tab-pane",{attrs:{label:"当前活动区域",name:"first"}},[t("img",{attrs:{src:e.currentPos,alt:""}})]),e._v(" "),t("el-tab-pane",{attrs:{label:"历史活动区域",name:"second"}},[t("section",{staticClass:"filter-wrap"},[t("span",{staticClass:"block"},[t("span",{staticClass:"demonstration"},[e._v("时间")]),e._v(" "),t("el-date-picker",{attrs:{size:"mini",type:"datetime",placeholder:"选择开始时间"},model:{value:e.starttime,callback:function(a){e.starttime=a},expression:"starttime"}}),e._v(" "),t("span",[e._v("-")]),e._v(" "),t("el-date-picker",{attrs:{size:"mini",type:"datetime",placeholder:"选择结束时间"},model:{value:e.endtime,callback:function(a){e.endtime=a},expression:"endtime"}})],1)]),e._v(" "),t("section",{staticClass:"el-table-wrap clearfix"},[t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.pPHisTrackData,stripe:""}},[t("el-table-column",{attrs:{prop:"startTime",label:"进时间"}}),e._v(" "),t("el-table-column",{attrs:{prop:"endTime",label:"出时间"}}),e._v(" "),t("el-table-column",{attrs:{prop:"areaName",label:"区域"}}),e._v(" "),t("el-table-column",{attrs:{prop:"stayTimeLen",label:"停留时间"}}),e._v(" "),t("el-table-column",{attrs:{label:"监控视频"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",{staticClass:"operating"},[t("img",{staticClass:"v-align-m",attrs:{src:e.video,alt:""}}),e._v(" "),t("span",{on:{click:function(t){e.playVideo(a.$index,a.row,"hisevent")}}},[e._v("查看")])])]}}])})],1),e._v(" "),t("div",{staticClass:"el-pagination-wrap"},[t("table-pagination",{attrs:{"page-index":e.currentPage,total:e.count,"page-size":e.pageSize},on:{change:function(a){e.pageChange(e.currentPage,"hisevent")}}})],1)],1)])],1)],1)]),e._v(" "),e._m(2)])])])},staticRenderFns:[function(){var e=this.$createElement,a=this._self._c||e;return a("thead",[a("tr",[a("th",[a("div",{staticClass:"cell"},[this._v("序号")])]),this._v(" "),a("th",[a("div",{staticClass:"cell"},[this._v("姓名")])]),this._v(" "),a("th",[a("div",{staticClass:"cell"},[this._v("编号")])])])])},function(){var e=this,a=e.$createElement,s=e._self._c||a;return s("div",{staticClass:"pp-r-d-l-r fr"},[s("div",{staticClass:"imgWrap",attrs:{title:"照片"}},[s("span",{staticClass:"pp-photo"}),e._v(" "),s("div",[s("img",{attrs:{src:t("3zX0"),alt:""}}),e._v(" "),s("span",[e._v("正面")])]),e._v(" "),s("div",[s("img",{attrs:{src:t("3zX0"),alt:""}}),e._v(" "),s("span",[e._v("低头")])]),e._v(" "),s("div",[s("img",{attrs:{src:t("3zX0"),alt:""}}),e._v(" "),s("span",[e._v("侧面")])]),e._v(" "),s("div",[s("img",{attrs:{src:t("3zX0"),alt:""}}),e._v(" "),s("span",[e._v("抬头")])])]),e._v(" "),s("div",{staticClass:"imgWrap",attrs:{title:"视觉识别码"}},[s("span"),e._v(" "),s("div",[s("img",{attrs:{src:t("3zX0"),alt:""}}),e._v(" "),s("span",[e._v("正面")])]),e._v(" "),s("div",[s("img",{attrs:{src:t("3zX0"),alt:""}}),e._v(" "),s("span",[e._v("低头")])])])])},function(){var e=this.$createElement,a=this._self._c||e;return a("section",{staticClass:"movie-wrap"},[a("video",{attrs:{width:"320",height:"240",controls:"controls"}},[a("source",{attrs:{src:"movie.ogg",type:"video/ogg"}}),this._v(" "),a("source",{attrs:{src:"movie.mp4",type:"video/mp4"}}),this._v(" Your browser does not support the video tag.\n          ")]),this._v(" "),a("video",{attrs:{width:"320",height:"240",controls:"controls"}},[a("source",{attrs:{src:"movie.ogg",type:"video/ogg"}}),this._v(" "),a("source",{attrs:{src:"movie.mp4",type:"video/mp4"}}),this._v(" Your browser does not support the video tag.\n          ")])])}]};var v=t("VU/8")(c,p,!1,function(e){t("xuOY")},"data-v-26f3fcb6",null);a.default=v.exports},esw1:function(e,a,t){e.exports=t.p+"img/currentPos.3a25300.png"},xuOY:function(e,a){}});
//# sourceMappingURL=10.3674351cbd5d2f02c6de.js.map